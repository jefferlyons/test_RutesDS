<p id="notice"><%= notice %></p>

<p>
  <strong>Name:</strong>
  <%= @student.name %>
</p>

<p>
  <strong>Dir school:</strong>
  <p id="star"> hola <%= @student.dir_school %></p>
</p>

<p>
  <strong>user_id:</strong>
  <%= @student.user_id  %>
</p>

<p>
  <strong>Casa dir:</strong>
 <p id="end"> <%= @users.find_by_id(current_user.id).dir %> </p> 
</p>
<button id="btn">Ver</button>>

<div id="map"></div>
<script>


	function initMap() {
		var directionsService = new google.maps.DirectionsService;
		var directionsDisplay = new google.maps.DirectionsRenderer;

		var map = new google.maps.Map(document.getElementById('map'), {
			center: {lat: 10.983812, lng: -74.818017},
			zoom: 7
		});
		directionsDisplay.setMap(map);

		var onChangeHandler = function(){
			window.alert($("end").html());
			window.alert($('star').text());
			calculateAndDisplayRoute(directionsService, directionsDisplay);
		}
		document.getElementById('btn').addEventListener('click', onChangeHandler);

	}

	function calculateAndDisplayRoute(directionsService, directionsDisplay) {
		directionsService.route({
			
			origin: document.getElementById('start').val(),
			destination: document.getElementById('end').val(),
			travelMode: google.maps.TravelMode.DRIVING
		}, function(response, status) {
			if (status === google.maps.DirectionsStatus.OK) {
				directionsDisplay.setDirections(response);
			} else {
				window.alert('Directions request failed due to ' + status);
			}
		});
	}

  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC4924wlraUwzko-Ta0YJKCe0hW5wLiP6E&signed_in=true&callback=initMap"
  async defer></script>
s
<%= link_to 'Edit', edit_student_path(@student) %> |
<%= link_to 'Back', students_path %>
